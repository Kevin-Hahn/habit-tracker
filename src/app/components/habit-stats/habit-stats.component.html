<div class="stats-container">
  <!-- Header -->
  <header class="stats-header">
    <div class="header-content">
      <button
        class="back-button"
        routerLink="/"
        aria-label="Go back to dashboard"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path d="M19 12H6m6-6l-6 6 6 6" />
        </svg>
      </button>
      <div class="header-info">
        <h1 class="stats-title">Statistics</h1>
        <p class="stats-subtitle">Track your progress and insights</p>
      </div>
    </div>
  </header>

  <!-- Overview Cards -->
  <app-habit-stats-overview
    [totalHabits]="totalHabits"
    [longestStreak]="longestStreak"
    [completionRate]="completionRate"
    [activeStreaks]="activeStreaks"
  ></app-habit-stats-overview>

  <!-- Charts Section -->
  <app-habit-stats-charts
    [trendData]="trendData"
    [trendLinePoints]="trendLinePoints"
    [categoryStats]="categoryStats"
  ></app-habit-stats-charts>

  <!-- Streaks Section -->
  <app-habit-stats-streaks [streakData]="streakData"></app-habit-stats-streaks>

  <!-- Heatmap Section -->
  <app-habit-stats-heatmap
    [heatmapData]="heatmapData"
    [chartLevels]="chartLevels"
  ></app-habit-stats-heatmap>

  <!-- Insights Section -->
  <div class="insights-section">
    <div class="section-header">
      <h2 class="section-title">Personal Insights</h2>
    </div>

    <div class="insights-grid">
      @for (insight of insights; track insight) {
      <div class="insight-card">
        <div class="insight-icon">ðŸ’¡</div>
        <p class="insight-text">{{ insight }}</p>
      </div>
      }
    </div>
  </div>
</div>
