<!-- Heatmap section for habit stats -->
<div class="heatmap-section">
  <div class="section-header">
    <h2 class="section-title">Activity Heatmap</h2>
    <p class="section-subtitle">Past 52 weeks of habit completion patterns</p>
  </div>
  <div class="heatmap-container">
    <div class="heatmap-wrapper">
      <div class="heatmap-grid">
        @for (week of heatmapData; track $index; let weekIndex = $index) {
        <div class="heatmap-week">
          @for (day of week; track day.date) {
          <div
            class="heatmap-day"
            [class]="'level-' + day.level"
            [attr.data-date]="day.date"
            [attr.title]="
              day.date + ': ' + (day.value * 100).toFixed(0) + '% completion'
            "
          ></div>
          }
        </div>
        }
      </div>
    </div>
    <div class="heatmap-legend">
      <span class="legend-text">Less</span>
      <div class="legend-scale">
        @for (level of chartLevels; track level) {
        <div class="legend-square" [class]="'level-' + level"></div>
        }
      </div>
      <span class="legend-text">More</span>
    </div>
  </div>
</div>
